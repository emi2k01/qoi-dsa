<span class="csai-code-source csai-code-rust"><span class="csai-code-keyword csai-code-other csai-code-rust">use</span> <span class="csai-code-keyword csai-code-other csai-code-rust">crate</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">:</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">:</span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span><span class="csai-code-meta csai-code-path csai-code-rust">error<span class="csai-code-punctuation csai-code-accessor csai-code-rust">::</span></span>DecodeChunksError<span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> <span class="csai-code-meta csai-code-path csai-code-rust">pixel<span class="csai-code-punctuation csai-code-accessor csai-code-rust">::</span></span>Pixel</span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

<span class="csai-code-storage csai-code-type csai-code-rust">const</span> <span class="csai-code-constant csai-code-other csai-code-rust">END_MARKER</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">:</span> <span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">[</span><span class="csai-code-storage csai-code-type csai-code-rust">u8</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">;</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">8</span><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">]</span></span> <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">[</span><span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">0</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">0</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">0</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">0</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">0</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">0</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">0</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">1</span><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">]</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

<span class="csai-code-meta csai-code-struct csai-code-rust"><span class="csai-code-storage csai-code-modifier csai-code-rust">pub</span> <span class="csai-code-storage csai-code-type csai-code-struct csai-code-rust">struct</span> </span><span class="csai-code-meta csai-code-struct csai-code-rust"><span class="csai-code-meta csai-code-generic csai-code-rust"><span class="csai-code-entity csai-code-name csai-code-struct csai-code-rust">ChunksDecoder</span><span class="csai-code-meta csai-code-generic csai-code-rust"><span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-begin csai-code-rust">&lt;</span>I<span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-end csai-code-rust">&gt;</span></span></span></span><span class="csai-code-meta csai-code-struct csai-code-rust"> </span><span class="csai-code-meta csai-code-struct csai-code-rust"><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
    <span class="csai-code-variable csai-code-other csai-code-member csai-code-rust">input</span><span class="csai-code-punctuation csai-code-separator csai-code-type csai-code-rust">:</span> I,
    <span class="csai-code-variable csai-code-other csai-code-member csai-code-rust">seen_pixels</span><span class="csai-code-punctuation csai-code-separator csai-code-type csai-code-rust">:</span> [Pixel; 64],
    <span class="csai-code-variable csai-code-other csai-code-member csai-code-rust">last_pixel</span><span class="csai-code-punctuation csai-code-separator csai-code-type csai-code-rust">:</span> Pixel,
    <span class="csai-code-variable csai-code-other csai-code-member csai-code-rust">pixels</span><span class="csai-code-punctuation csai-code-separator csai-code-type csai-code-rust">:</span> <span class="csai-code-meta csai-code-generic csai-code-rust"><span class="csai-code-support csai-code-type csai-code-rust">Vec</span><span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-begin csai-code-rust">&lt;</span>Pixel<span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-end csai-code-rust">&gt;</span></span>,
</span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span>

<span class="csai-code-meta csai-code-impl csai-code-rust"><span class="csai-code-storage csai-code-type csai-code-impl csai-code-rust">impl</span></span><span class="csai-code-meta csai-code-impl csai-code-rust"><span class="csai-code-meta csai-code-generic csai-code-rust"><span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-begin csai-code-rust">&lt;</span>I<span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-end csai-code-rust">&gt;</span></span></span><span class="csai-code-meta csai-code-impl csai-code-rust"> <span class="csai-code-entity csai-code-name csai-code-impl csai-code-rust">ChunksDecoder</span><span class="csai-code-meta csai-code-generic csai-code-rust"><span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-begin csai-code-rust">&lt;</span>I<span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-end csai-code-rust">&gt;</span></span>
</span><span class="csai-code-meta csai-code-impl csai-code-rust"><span class="csai-code-keyword csai-code-other csai-code-rust">where</span>
    I<span class="csai-code-punctuation csai-code-separator csai-code-rust">:</span> <span class="csai-code-meta csai-code-generic csai-code-rust"><span class="csai-code-support csai-code-type csai-code-rust">Iterator</span><span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-begin csai-code-rust">&lt;</span>Item = <span class="csai-code-storage csai-code-type csai-code-rust">u8</span><span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-end csai-code-rust">&gt;</span></span>,
</span><span class="csai-code-meta csai-code-impl csai-code-rust"><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
    <span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-storage csai-code-modifier csai-code-rust">pub</span> <span class="csai-code-storage csai-code-type csai-code-function csai-code-rust">fn</span> </span><span class="csai-code-entity csai-code-name csai-code-function csai-code-rust">from_iter</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-begin csai-code-rust">(</span><span class="csai-code-variable csai-code-parameter csai-code-rust">input</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">:</span> I</span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-end csai-code-rust">)</span></span></span></span><span class="csai-code-meta csai-code-function csai-code-rust"> <span class="csai-code-meta csai-code-function csai-code-return-type csai-code-rust"><span class="csai-code-punctuation csai-code-separator csai-code-rust">-&gt;</span> <span class="csai-code-storage csai-code-type csai-code-rust">Self</span></span> </span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">Self</span> <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
            input<span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span>
            seen_pixels<span class="csai-code-punctuation csai-code-separator csai-code-rust">:</span> <span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">[</span><span class="csai-code-meta csai-code-path csai-code-rust">Pixel<span class="csai-code-punctuation csai-code-accessor csai-code-rust">::</span></span>zero<span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-separator csai-code-rust">;</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">64</span><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">]</span></span><span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span>
            last_pixel<span class="csai-code-punctuation csai-code-separator csai-code-rust">:</span> <span class="csai-code-meta csai-code-path csai-code-rust">Pixel<span class="csai-code-punctuation csai-code-accessor csai-code-rust">::</span></span>black<span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span>
            pixels<span class="csai-code-punctuation csai-code-separator csai-code-rust">:</span> <span class="csai-code-support csai-code-type csai-code-rust">Vec</span><span class="csai-code-meta csai-code-path csai-code-rust"><span class="csai-code-punctuation csai-code-accessor csai-code-rust">::</span></span>new<span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span>
        </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span>
    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span>

    <span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-storage csai-code-modifier csai-code-rust">pub</span> <span class="csai-code-storage csai-code-type csai-code-function csai-code-rust">fn</span> </span><span class="csai-code-entity csai-code-name csai-code-function csai-code-rust">decode</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-begin csai-code-rust">(</span><span class="csai-code-storage csai-code-modifier csai-code-rust">mut</span> <span class="csai-code-variable csai-code-parameter csai-code-rust">self</span>, <span class="csai-code-variable csai-code-parameter csai-code-rust">size</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">:</span> <span class="csai-code-storage csai-code-type csai-code-rust">u32</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-end csai-code-rust">)</span></span></span></span><span class="csai-code-meta csai-code-function csai-code-rust"> <span class="csai-code-meta csai-code-function csai-code-return-type csai-code-rust"><span class="csai-code-punctuation csai-code-separator csai-code-rust">-&gt;</span> <span class="csai-code-meta csai-code-generic csai-code-rust"><span class="csai-code-support csai-code-type csai-code-rust">Result</span><span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-begin csai-code-rust">&lt;</span><span class="csai-code-meta csai-code-generic csai-code-rust"><span class="csai-code-support csai-code-type csai-code-rust">Vec</span><span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-begin csai-code-rust">&lt;</span>Pixel<span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-end csai-code-rust">&gt;</span></span>, DecodeChunksError<span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-end csai-code-rust">&gt;</span></span></span> </span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
        <span class="csai-code-keyword csai-code-control csai-code-rust">while</span> <span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>pixels<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">len</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span> <span class="csai-code-keyword csai-code-operator csai-code-rust">as</span> <span class="csai-code-storage csai-code-type csai-code-rust">u32</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span> <span class="csai-code-keyword csai-code-operator csai-code-comparison csai-code-rust">&lt;</span> size <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
            <span class="csai-code-keyword csai-code-control csai-code-rust">if</span> <span class="csai-code-storage csai-code-type csai-code-rust">let</span> <span class="csai-code-support csai-code-type csai-code-rust">Some</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>tag</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span> <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>input<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">next</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span> <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
                <span class="csai-code-keyword csai-code-control csai-code-rust">match</span> tag <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
                    <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b11111110</span> <span class="csai-code-keyword csai-code-operator csai-code-rust">=&gt;</span> <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
                        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">decode_op_rgb</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-keyword csai-code-operator csai-code-rust">?</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
                    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span>

                    <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b11111111</span> <span class="csai-code-keyword csai-code-operator csai-code-rust">=&gt;</span> <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
                        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">decode_op_rgba</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-keyword csai-code-operator csai-code-rust">?</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
                    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span>

                    <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b00000000</span><span class="csai-code-keyword csai-code-operator csai-code-range csai-code-rust">..</span><span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span><span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b00111111</span> <span class="csai-code-keyword csai-code-operator csai-code-rust">=&gt;</span> <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
                        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">decode_op_index</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>tag</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
                    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span>

                    <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b01000000</span><span class="csai-code-keyword csai-code-operator csai-code-range csai-code-rust">..</span><span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span><span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b01111111</span> <span class="csai-code-keyword csai-code-operator csai-code-rust">=&gt;</span> <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
                        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">decode_op_diff</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>tag</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
                    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span>

                    <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b10000000</span><span class="csai-code-keyword csai-code-operator csai-code-range csai-code-rust">..</span><span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span><span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b10111111</span> <span class="csai-code-keyword csai-code-operator csai-code-rust">=&gt;</span> <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
                        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">decode_op_luma</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>tag</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-keyword csai-code-operator csai-code-rust">?</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
                    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span>

                    <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b11000000</span><span class="csai-code-keyword csai-code-operator csai-code-range csai-code-rust">..</span> <span class="csai-code-keyword csai-code-operator csai-code-rust">=&gt;</span> <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
                        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">decode_op_run</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>tag</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
                    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span>
                </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span>

                <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>last_pixel <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>pixels<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">last</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">copied</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">unwrap</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
                <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">see_pixel</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
            </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span> <span class="csai-code-keyword csai-code-control csai-code-rust">else</span> <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
                <span class="csai-code-keyword csai-code-control csai-code-rust">return</span> <span class="csai-code-support csai-code-type csai-code-rust">Err</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-meta csai-code-path csai-code-rust">DecodeChunksError<span class="csai-code-punctuation csai-code-accessor csai-code-rust">::</span></span>UnexpectedInputEnd</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
            </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span>
        </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span>

        <span class="csai-code-keyword csai-code-control csai-code-rust">if</span> <span class="csai-code-keyword csai-code-operator csai-code-logical csai-code-rust">!</span><span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>input<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">eq</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-constant csai-code-other csai-code-rust">END_MARKER</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span> <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
            <span class="csai-code-keyword csai-code-control csai-code-rust">return</span> <span class="csai-code-support csai-code-type csai-code-rust">Err</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-meta csai-code-path csai-code-rust">DecodeChunksError<span class="csai-code-punctuation csai-code-accessor csai-code-rust">::</span></span>BadEnding</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span>

        <span class="csai-code-support csai-code-type csai-code-rust">Ok</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>pixels</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span>
    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span>

    <span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-storage csai-code-type csai-code-function csai-code-rust">fn</span> </span><span class="csai-code-entity csai-code-name csai-code-function csai-code-rust">decode_op_rgb</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-begin csai-code-rust">(</span><span class="csai-code-keyword csai-code-operator csai-code-rust">&amp;</span><span class="csai-code-storage csai-code-modifier csai-code-rust">mut</span> <span class="csai-code-variable csai-code-parameter csai-code-rust">self</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-end csai-code-rust">)</span></span></span></span><span class="csai-code-meta csai-code-function csai-code-rust"> <span class="csai-code-meta csai-code-function csai-code-return-type csai-code-rust"><span class="csai-code-punctuation csai-code-separator csai-code-rust">-&gt;</span> <span class="csai-code-meta csai-code-generic csai-code-rust"><span class="csai-code-support csai-code-type csai-code-rust">Result</span><span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-begin csai-code-rust">&lt;</span><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span>, DecodeChunksError<span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-end csai-code-rust">&gt;</span></span></span> </span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> r <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">take_byte</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-keyword csai-code-operator csai-code-rust">?</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> g <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">take_byte</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-keyword csai-code-operator csai-code-rust">?</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> b <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">take_byte</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-keyword csai-code-operator csai-code-rust">?</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> a <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>last_pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>a<span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>pixels<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">push</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>Pixel <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span> r<span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> g<span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> b<span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> a </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-support csai-code-type csai-code-rust">Ok</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span>
    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span>

    <span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-storage csai-code-type csai-code-function csai-code-rust">fn</span> </span><span class="csai-code-entity csai-code-name csai-code-function csai-code-rust">decode_op_rgba</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-begin csai-code-rust">(</span><span class="csai-code-keyword csai-code-operator csai-code-rust">&amp;</span><span class="csai-code-storage csai-code-modifier csai-code-rust">mut</span> <span class="csai-code-variable csai-code-parameter csai-code-rust">self</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-end csai-code-rust">)</span></span></span></span><span class="csai-code-meta csai-code-function csai-code-rust"> <span class="csai-code-meta csai-code-function csai-code-return-type csai-code-rust"><span class="csai-code-punctuation csai-code-separator csai-code-rust">-&gt;</span> <span class="csai-code-meta csai-code-generic csai-code-rust"><span class="csai-code-support csai-code-type csai-code-rust">Result</span><span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-begin csai-code-rust">&lt;</span><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span>, DecodeChunksError<span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-end csai-code-rust">&gt;</span></span></span> </span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> r <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">take_byte</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-keyword csai-code-operator csai-code-rust">?</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> g <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">take_byte</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-keyword csai-code-operator csai-code-rust">?</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> b <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">take_byte</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-keyword csai-code-operator csai-code-rust">?</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> a <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">take_byte</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-keyword csai-code-operator csai-code-rust">?</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>pixels<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">push</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>Pixel <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span> r<span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> g<span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> b<span class="csai-code-punctuation csai-code-separator csai-code-rust">,</span> a </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-support csai-code-type csai-code-rust">Ok</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span>
    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span>

    <span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-storage csai-code-type csai-code-function csai-code-rust">fn</span> </span><span class="csai-code-entity csai-code-name csai-code-function csai-code-rust">decode_op_index</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-begin csai-code-rust">(</span><span class="csai-code-keyword csai-code-operator csai-code-rust">&amp;</span><span class="csai-code-storage csai-code-modifier csai-code-rust">mut</span> <span class="csai-code-variable csai-code-parameter csai-code-rust">self</span>, <span class="csai-code-variable csai-code-parameter csai-code-rust">tag</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">:</span> <span class="csai-code-storage csai-code-type csai-code-rust">u8</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-end csai-code-rust">)</span></span></span></span><span class="csai-code-meta csai-code-function csai-code-rust"> </span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> index <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> tag <span class="csai-code-keyword csai-code-operator csai-code-rust">as</span> <span class="csai-code-storage csai-code-type csai-code-rust">usize</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> seen_pixel <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>seen_pixels<span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">[</span>index<span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">]</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>pixels<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">push</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>seen_pixel</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span>

    <span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-storage csai-code-type csai-code-function csai-code-rust">fn</span> </span><span class="csai-code-entity csai-code-name csai-code-function csai-code-rust">decode_op_diff</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-begin csai-code-rust">(</span><span class="csai-code-keyword csai-code-operator csai-code-rust">&amp;</span><span class="csai-code-storage csai-code-modifier csai-code-rust">mut</span> <span class="csai-code-variable csai-code-parameter csai-code-rust">self</span>, <span class="csai-code-variable csai-code-parameter csai-code-rust">tag</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">:</span> <span class="csai-code-storage csai-code-type csai-code-rust">u8</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-end csai-code-rust">)</span></span></span></span><span class="csai-code-meta csai-code-function csai-code-rust"> </span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> <span class="csai-code-storage csai-code-modifier csai-code-rust">mut</span> pixel <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>last_pixel<span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> delta_r <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>tag <span class="csai-code-keyword csai-code-operator csai-code-bitwise csai-code-rust">&amp;</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b00110000</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span> <span class="csai-code-keyword csai-code-operator csai-code-comparison csai-code-rust">&gt;</span><span class="csai-code-keyword csai-code-operator csai-code-comparison csai-code-rust">&gt;</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">4</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> delta_g <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>tag <span class="csai-code-keyword csai-code-operator csai-code-bitwise csai-code-rust">&amp;</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b00001100</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span> <span class="csai-code-keyword csai-code-operator csai-code-comparison csai-code-rust">&gt;</span><span class="csai-code-keyword csai-code-operator csai-code-comparison csai-code-rust">&gt;</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">2</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> delta_b <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> tag <span class="csai-code-keyword csai-code-operator csai-code-bitwise csai-code-rust">&amp;</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b00000011</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>r <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>r<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_add</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>delta_r</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_sub</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">2</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>g <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>g<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_add</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>delta_g</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_sub</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">2</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>b <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>b<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_add</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>delta_b</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_sub</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">2</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>pixels<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">push</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>pixel</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span>

    <span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-storage csai-code-type csai-code-function csai-code-rust">fn</span> </span><span class="csai-code-entity csai-code-name csai-code-function csai-code-rust">decode_op_luma</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-begin csai-code-rust">(</span><span class="csai-code-keyword csai-code-operator csai-code-rust">&amp;</span><span class="csai-code-storage csai-code-modifier csai-code-rust">mut</span> <span class="csai-code-variable csai-code-parameter csai-code-rust">self</span>, <span class="csai-code-variable csai-code-parameter csai-code-rust">tag</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">:</span> <span class="csai-code-storage csai-code-type csai-code-rust">u8</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-end csai-code-rust">)</span></span></span></span><span class="csai-code-meta csai-code-function csai-code-rust"> <span class="csai-code-meta csai-code-function csai-code-return-type csai-code-rust"><span class="csai-code-punctuation csai-code-separator csai-code-rust">-&gt;</span> <span class="csai-code-meta csai-code-generic csai-code-rust"><span class="csai-code-support csai-code-type csai-code-rust">Result</span><span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-begin csai-code-rust">&lt;</span><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span>, DecodeChunksError<span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-end csai-code-rust">&gt;</span></span></span> </span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> byte1 <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">take_byte</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-keyword csai-code-operator csai-code-rust">?</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> <span class="csai-code-storage csai-code-modifier csai-code-rust">mut</span> pixel <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>last_pixel<span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> delta_g <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>tag <span class="csai-code-keyword csai-code-operator csai-code-bitwise csai-code-rust">&amp;</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b00111111</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_sub</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">32</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> delta_r <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>byte1 <span class="csai-code-keyword csai-code-operator csai-code-bitwise csai-code-rust">&amp;</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b11110000</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span> <span class="csai-code-keyword csai-code-operator csai-code-comparison csai-code-rust">&gt;</span><span class="csai-code-keyword csai-code-operator csai-code-comparison csai-code-rust">&gt;</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">4</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span>
            <span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_add</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>delta_g</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span>
            <span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_sub</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">8</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> delta_b <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>byte1 <span class="csai-code-keyword csai-code-operator csai-code-bitwise csai-code-rust">&amp;</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b00001111</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_add</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>delta_g</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_sub</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">8</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>r <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>r<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_add</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>delta_r</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>g <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>g<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_add</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>delta_g</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>b <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>b<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_add</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>delta_b</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>pixels<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">push</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>pixel</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-support csai-code-type csai-code-rust">Ok</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span>
    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span>

    <span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-storage csai-code-type csai-code-function csai-code-rust">fn</span> </span><span class="csai-code-entity csai-code-name csai-code-function csai-code-rust">decode_op_run</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-begin csai-code-rust">(</span><span class="csai-code-keyword csai-code-operator csai-code-rust">&amp;</span><span class="csai-code-storage csai-code-modifier csai-code-rust">mut</span> <span class="csai-code-variable csai-code-parameter csai-code-rust">self</span>, <span class="csai-code-variable csai-code-parameter csai-code-rust">tag</span><span class="csai-code-punctuation csai-code-separator csai-code-rust">:</span> <span class="csai-code-storage csai-code-type csai-code-rust">u8</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-end csai-code-rust">)</span></span></span></span><span class="csai-code-meta csai-code-function csai-code-rust"> </span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> run_length <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>tag <span class="csai-code-keyword csai-code-operator csai-code-bitwise csai-code-rust">&amp;</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-binary csai-code-rust">0b00111111</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">wrapping_add</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">1</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span> <span class="csai-code-keyword csai-code-operator csai-code-rust">as</span> <span class="csai-code-storage csai-code-type csai-code-rust">usize</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> pixel <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>last_pixel<span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-keyword csai-code-control csai-code-rust">for</span> <span class="csai-code-keyword csai-code-operator csai-code-rust">_</span> <span class="csai-code-keyword csai-code-operator csai-code-rust">in</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">0</span><span class="csai-code-keyword csai-code-operator csai-code-range csai-code-rust">..</span>run_length <span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
            <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>pixels<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">push</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>pixel</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span>
    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span>

    <span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-storage csai-code-type csai-code-function csai-code-rust">fn</span> </span><span class="csai-code-entity csai-code-name csai-code-function csai-code-rust">see_pixel</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-begin csai-code-rust">(</span><span class="csai-code-keyword csai-code-operator csai-code-rust">&amp;</span><span class="csai-code-storage csai-code-modifier csai-code-rust">mut</span> <span class="csai-code-variable csai-code-parameter csai-code-rust">self</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-end csai-code-rust">)</span></span></span></span><span class="csai-code-meta csai-code-function csai-code-rust"> </span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> pixel <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>last_pixel<span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> r <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>r <span class="csai-code-keyword csai-code-operator csai-code-rust">as</span> <span class="csai-code-storage csai-code-type csai-code-rust">usize</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> g <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>g <span class="csai-code-keyword csai-code-operator csai-code-rust">as</span> <span class="csai-code-storage csai-code-type csai-code-rust">usize</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> b <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>b <span class="csai-code-keyword csai-code-operator csai-code-rust">as</span> <span class="csai-code-storage csai-code-type csai-code-rust">usize</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> a <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> pixel<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>a <span class="csai-code-keyword csai-code-operator csai-code-rust">as</span> <span class="csai-code-storage csai-code-type csai-code-rust">usize</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-storage csai-code-type csai-code-rust">let</span> index <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> <span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span>r <span class="csai-code-keyword csai-code-operator csai-code-arithmetic csai-code-rust">*</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">3</span> <span class="csai-code-keyword csai-code-operator csai-code-arithmetic csai-code-rust">+</span> g <span class="csai-code-keyword csai-code-operator csai-code-arithmetic csai-code-rust">*</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">5</span> <span class="csai-code-keyword csai-code-operator csai-code-arithmetic csai-code-rust">+</span> b <span class="csai-code-keyword csai-code-operator csai-code-arithmetic csai-code-rust">*</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">7</span> <span class="csai-code-keyword csai-code-operator csai-code-arithmetic csai-code-rust">+</span> a <span class="csai-code-keyword csai-code-operator csai-code-arithmetic csai-code-rust">*</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">11</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span> <span class="csai-code-keyword csai-code-operator csai-code-arithmetic csai-code-rust">%</span> <span class="csai-code-constant csai-code-numeric csai-code-integer csai-code-decimal csai-code-rust">64</span><span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>

        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>seen_pixels<span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">[</span>index<span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">]</span></span> <span class="csai-code-keyword csai-code-operator csai-code-assignment csai-code-rust">=</span> pixel<span class="csai-code-punctuation csai-code-terminator csai-code-rust">;</span>
    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span>

    <span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-storage csai-code-type csai-code-function csai-code-rust">fn</span> </span><span class="csai-code-entity csai-code-name csai-code-function csai-code-rust">last_pixel</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-begin csai-code-rust">(</span><span class="csai-code-keyword csai-code-operator csai-code-rust">&amp;</span><span class="csai-code-variable csai-code-parameter csai-code-rust">self</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-end csai-code-rust">)</span></span></span></span><span class="csai-code-meta csai-code-function csai-code-rust"> <span class="csai-code-meta csai-code-function csai-code-return-type csai-code-rust"><span class="csai-code-punctuation csai-code-separator csai-code-rust">-&gt;</span> Pixel</span> </span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>pixels<span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">last</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">copied</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">unwrap_or_else</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-meta csai-code-path csai-code-rust">Pixel<span class="csai-code-punctuation csai-code-accessor csai-code-rust">::</span></span>black</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span>
    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span>

    <span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-storage csai-code-type csai-code-function csai-code-rust">fn</span> </span><span class="csai-code-entity csai-code-name csai-code-function csai-code-rust">take_byte</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-begin csai-code-rust">(</span><span class="csai-code-keyword csai-code-operator csai-code-rust">&amp;</span><span class="csai-code-storage csai-code-modifier csai-code-rust">mut</span> <span class="csai-code-variable csai-code-parameter csai-code-rust">self</span></span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-function csai-code-parameters csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-parameters csai-code-end csai-code-rust">)</span></span></span></span><span class="csai-code-meta csai-code-function csai-code-rust"> <span class="csai-code-meta csai-code-function csai-code-return-type csai-code-rust"><span class="csai-code-punctuation csai-code-separator csai-code-rust">-&gt;</span> <span class="csai-code-meta csai-code-generic csai-code-rust"><span class="csai-code-support csai-code-type csai-code-rust">Result</span><span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-begin csai-code-rust">&lt;</span><span class="csai-code-storage csai-code-type csai-code-rust">u8</span>, DecodeChunksError<span class="csai-code-punctuation csai-code-definition csai-code-generic csai-code-end csai-code-rust">&gt;</span></span></span> </span><span class="csai-code-meta csai-code-function csai-code-rust"><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-begin csai-code-rust">{</span>
        <span class="csai-code-variable csai-code-language csai-code-rust">self</span><span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span>input
            <span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">next</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span></span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span>
            <span class="csai-code-punctuation csai-code-accessor csai-code-dot csai-code-rust">.</span><span class="csai-code-support csai-code-function csai-code-rust">ok_or</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-begin csai-code-rust">(</span><span class="csai-code-meta csai-code-path csai-code-rust">DecodeChunksError<span class="csai-code-punctuation csai-code-accessor csai-code-rust">::</span></span>UnexpectedInputEnd</span><span class="csai-code-meta csai-code-group csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-group csai-code-end csai-code-rust">)</span></span>
    </span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span>
</span><span class="csai-code-meta csai-code-block csai-code-rust"><span class="csai-code-punctuation csai-code-section csai-code-block csai-code-end csai-code-rust">}</span></span></span>
</span>